<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.romantic.dao.TbOrderMapper" >
    <sql id="o1" >
        order_num,seller_id,payment,payment_type,post_fee,status,payment_time,consign_time,end_time,close_time,
        shipping_name,shipping_code,user_id,buyer_message,buyer_nick,buyer_rate,receiver_area_name,
        receiver_mobile,receiver,expire,create_time,is_alive
    </sql>
    <select id="selectByOrderNum" resultType="com.romantic.pojo.TbOrder" parameterType="java.lang.String">
        SELECT
        <include refid="o1"></include>
        from tb_order
        where order_num= #{orderNum,jdbcType=VARCHAR}
    </select>

    <select id="updateOrderIsAlive" resultType="com.romantic.pojo.TbOrder" parameterType="java.lang.String">
        UPDATE
        tb_order
        SET is_alive='0'
        where order_num=#{orderNum,jdbcType=VARCHAR}
    </select>

    <select id="insertOrder" parameterType="com.romantic.pojo.TbOrder">
       INSERT INTO
       tb_order
       (<include refid="o1"/>)
       values(
        #{orderNum},#{sellerId},#{payment},#{paymentType},#{postFee},#{status},#{paymentTime},#{consignTime},
        #{endTime},#{closeTime},#{shippingName},#{shippingCode},#{userId},#{buyerMessage},#{buyerNick},#{buyerRate},
        #{receiverAreaName},#{receiverMobile},#{receiver},#{expire},#{createTime},#{isAlive}
        )
    </select>


</mapper>
